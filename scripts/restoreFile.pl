#!/usr/bin/perl
$storage='113924';
$repertoire = '/EDD_Acad√©mie/2023-2024_PAL';
@A = (
'106335814',
'106335916',
'106335919',
'106335922',
'106335925',
'106335928',
'106336039',
'106336135',
'106336387',
'106336390',
'106336522',
'106336525',
'106336528',
'106336531',
'106336618',
'106336858',
'106336864',
'106338199',
'106338241',
'106338244',
'106338307',
'106338337',
'106338340',
'106338343',
'106338346',
'106338382',
'106338385',
'106338412',
'106338490',
'106338544',
'106338961',
'106905529',
'107510035',
'107514238',
'107514256',
'108539623',
'108569248',
'108569251',
'108569254',
'108569257',
'108569335',
'108569350',
'108569353',
'108569362',
'108569365',
'108569368',
'108569371',
'108569374',
'108569377',
'108569380',
'108569383',
'108569386',
'108569389',
'108569674',
'108570301',
'108570370',
'108570373',
'108570415',
'108570547',
'108570550',
'108570553',
'108570556',
'108572266',
'108572302',
'108572392',
'108572401',
'109511194',
'109511263',
'110518219',
'110518222',
'126936400',
'126936403',
'19001795',
'19001945',
'54277348',
'82121147',
'82149557',
'82156121',
'82156124',
'82156127',
'82156130',
'82156133',
'82156136',
'82156139',
'82156142',
'82156148',
'82156151',
'82156160',
'82156163',
'82156175',
'82156178',
'82156181',
'82156184',
'82156187',
'82159085',
'82159916',
'82160360',
'82162202',
'82162280',
'82162538',
'82421225',
'82421264',
'82421267',
'82421270',
'82421273',
'82421276',
'82421279',
'82421288',
'82421378',
'82421447',
'82421450',
'82421453',
'82421456',
'82421564',
'82421570',
'82421573',
'82421576',
'82421579',
'82421582',
'82421585',
'82421588',
'82421591',
'82421741',
'82421747',
'82421750',
'82421756',
'82421945',
'82421948',
'82421951',
'82421981',
'82421984',
'82421987',
'82422044',
'82422047',
'82422050',
'82780331',
'82780415',
'82780523',
'82780565',
'82780571',
'84321494',
'84608255',
'89250887',
'89273603',
'89273822',
'90507530',
'92206013',
'93635297',
'93635300',
'97175474',
'97175477',
'97175480',
'97175486',
'97949024',
'98984597',
'98984615',
'99096179'
);

while (<>) {
#les fichiers
	while (m/((\(\d+,$storage\,\'files(_versions|_trashbin)?$repertoire[^',]*\'\,([^,]*,){3})(?P<mime>\d+),([^,]*,){8}[^\)]*\))/g) {
		if ($+{mime} == 4) {
			# c'est un repertoire
			print STDERR $1, "\n";
			next;
		} 
		$ok = $1;
		
		for $num (@A) {
			if ($ok =~ m/^\($num\,113924\,/) {
				print $ok, "\n";
			}
		}
	}
}

__END__
