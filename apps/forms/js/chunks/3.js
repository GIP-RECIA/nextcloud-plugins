(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{192:function(t,e,a){"use strict";a.r(e),e.default=a.p+"app.svg?acc601d7eb0da0d52a9655926468f275"},193:function(t,e,a){var o=a(204);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(5).default)("7ef71685",o,!0,{})},194:function(t,e,a){var o=a(207);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(5).default)("6c3c2a47",o,!0,{})},203:function(t,e,a){"use strict";var o=a(193);a.n(o).a},204:function(t,e,a){(e=a(4)(!1)).push([t.i,".table-row{width:100%;padding-left:15px;padding-right:15px;line-height:2em;transition:background-color 0.3s ease;background-color:var(--color-main-background);min-height:4em;border-bottom:1px solid var(--color-border)}.table-row.table-header .name,.table-row.table-header .description{padding-left:52px}.table-row.table-header .owner{padding-left:6px}.table-row.table-body:hover,.table-row.table-body:focus,.table-row.table-body:active,.table-row.table-body.mouseOver{transition:background-color 0.3s ease;background-color:var(--color-background-dark)}.table-row.table-body .icon-more{right:14px;opacity:0.3;cursor:pointer;height:44px;width:44px}.table-row.table-body .symbol{padding:2px}.table-row.table-header{opacity:0.5}.wrapper{display:flex;align-items:center;position:relative;flex-grow:0}.name{width:150px}.description{width:150px;opacity:0.5}.name,.description{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.actions{width:44px;position:relative;overflow:initial}.access{width:44px}.owner{width:140px}.created{width:120px}.expiry{width:120px}.expiry.expired{color:red}.group-1,.group-1-1{flex-grow:1}.group-1-1{flex-direction:column;width:150px}.group-1-1>div{width:100%}@media all and (max-width: 787px){.group-1{width:238px}.group-2-1,.group-2-2{flex-direction:column}.created{width:120px}.expiry,.participants{width:120px}}@media all and (max-width: 648px){.table-row{padding:0}.group-2-1{display:none}}@media all and (max-width: 528px){.group-2{display:none}}.thumbnail{width:44px;height:44px;padding-right:4px;font-size:0;background-color:var(--color-text-light)}.thumbnail.dateform{mask-image:var(--icon-calendar-000) no-repeat 50% 50%;-webkit-mask:var(--icon-calendar-000) no-repeat 50% 50%;mask-size:16px}.thumbnail.textform{mask-image:var(--icon-organization-000) no-repeat 50% 50%;-webkit-mask:var(--icon-organization-000) no-repeat 50% 50%;mask-size:16px}.thumbnail.expired{background-color:var(--color-background-darker)}.thumbnail.access{display:inherit}.thumbnail.access.hidden{mask-image:var(--icon-password-000) no-repeat 50% 50%;-webkit-mask:var(--icon-password-000) no-repeat 50% 50%;mask-size:16px}.thumbnail.access.public{mask-image:var(--icon-link-000) no-repeat 50% 50%;-webkit-mask:var(--icon-link-000) no-repeat 50% 50%;mask-size:16px}.thumbnail.access.select{mask-image:var(--icon-share-000) no-repeat 50% 50%;-webkit-mask:var(--icon-share-000) no-repeat 50% 50%;mask-size:16px}.thumbnail.access.registered{mask-image:var(--icon-group-000) no-repeat 50% 50%;-webkit-mask:var(--icon-group-000) no-repeat 50% 50%;mask-size:16px}.icon-voted{background-image:var(--icon-checkmark-fff)}.app-navigation-entry-utils-counter{padding-right:0 !important;overflow:hidden;text-align:right;font-size:9pt;line-height:44px;padding:0 12px}.app-navigation-entry-utils-counter.highlighted{padding:0;text-align:center}.app-navigation-entry-utils-counter.highlighted span{padding:2px 5px;border-radius:10px;background-color:var(--color-primary);color:var(--color-primary-text)}.symbol.icon-voted{position:absolute;left:11px;top:16px;background-size:0;min-width:8px;min-height:8px;background-color:var(--color-success);border-radius:50%}\n",""]),t.exports=e},206:function(t,e,a){"use strict";var o=a(194);a.n(o).a},207:function(t,e,a){var o=a(4),i=a(191),r=a(192);e=o(!1);var n=i(r);e.push([t.i,".table{width:100%;margin-top:45px;display:flex;flex-direction:column;flex-grow:1;flex-wrap:nowrap}#emptycontent .icon-forms{background-color:black;-webkit-mask:url("+n+") no-repeat 50% 50%;mask:url("+n+") no-repeat 50% 50%}\n",""]),t.exports=e},210:function(t,e,a){"use strict";a.r(e);var o={props:{header:{type:Boolean,default:!1},form:{type:Object,default:void 0},vote:{type:Object,default:void 0}},data:function(){return{openedMenu:!1,hostName:this.$route.query.page}},computed:{participants:function(){return this.vote.userId},questionText:function(){return this.vote.voteOptionText},answers:function(){return this.vote.voteAnswer},questionNum:function(){return this.vote.voteOptionId}}},i=(a(203),a(1)),r=Object(i.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.header?a("div",{staticClass:"wrapper group-master table-row table-header"},[a("div",{staticClass:"wrapper group-1"},[a("div",{staticClass:"wrapper group-1-1"},[a("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s("Name")+"\n\t\t\t")])]),t._v(" "),a("div",{staticClass:"wrapper group-1-1"},[a("div",{staticClass:"question"},[t._v("\n\t\t\t\t"+t._s("Question #")+"\n\t\t\t")])]),t._v(" "),a("div",{staticClass:"wrapper group-1-1"},[a("div",{staticClass:"questionText"},[t._v("\n\t\t\t\t"+t._s("Question")+"\n\t\t\t")])])]),t._v(" "),a("div",{staticClass:"wrapper group-2"},[a("div",{staticClass:"ans"},[t._v("\n\t\t\t"+t._s("Response")+"\n\t\t")])])]):a("div",{staticClass:"wrapper table-row table-body group-master"},[a("div",{staticClass:"wrapper group-1"},[a("div",{staticClass:"wrapper group-1-1"},[a("div",{staticClass:"name"},[t._v("\n\t\t\t\t"+t._s(t.participants)+"\n\t\t\t")])]),t._v(" "),a("div",{staticClass:"wrapper group-1-1"},[a("div",{staticClass:"question"},[t._v("\n\t\t\t\t"+t._s(t.questionNum)+"\n\t\t\t")])]),t._v(" "),a("div",{staticClass:"wrapper group-1-1"},[a("div",{staticClass:"questionText"},[t._v("\n\t\t\t\t"+t._s(t.questionText)+"\n\t\t\t")])])]),t._v(" "),a("div",{staticClass:"wrapper group-2"},[a("div",{staticClass:"ans"},[t._v("\n\t\t\t"+t._s(t.answers)+"\n\t\t")])])])}),[],!1,null,null,null).exports,n=a(205),s=a.n(n),p=a(14),l=a.n(p),d={name:"Results",components:{resultItem:r},data:function(){return{loading:!0,votes:[]}},computed:{stats:function(){if(null!=this.votes){for(var t=[],e=[],a=new Map,o=0;o<this.votes.length;o++)"radiogroup"!==this.votes[o].voteOptionType&&"dropdown"!==this.votes[o].voteOptionType||(!1===t.includes(this.votes[o].voteAnswer)&&(t.push(this.votes[o].voteAnswer),a.set(this.votes[o].voteAnswer,this.votes[o].voteOptionId)),!1===e.includes(this.votes[o].voteOptionId)&&e.push(this.votes[o].voteOptionId));for(var i=[],r=0;r<t.length;r++)i[r]=0;for(var n=0;n<this.votes.length;n++)i[t.indexOf(this.votes[n].voteAnswer)]++;for(var s=0;s<i.length;s++)i[s]="Question "+a.get(t[s])+":  "+(i[s]/(this.votes.length/e.length)*100).toFixed(2)+"% of respondents voted for answer choice: "+t[s]}return i.sort()}},created:function(){this.indexPage=OC.generateUrl("apps/forms/"),this.loadForms()},methods:{loadForms:function(){var t=this;this.loading=!0,l.a.get(OC.generateUrl("apps/forms/get/votes/"+this.$route.params.hash)).then((function(e){null==e.data?(t.votes=null,OC.Notification.showTemporary("Access Denied")):t.votes=e.data,t.loading=!1}),(function(e){console.log(e.response),t.loading=!1}))},viewFormResults:function(t,e,a){this.$router.push({name:a,params:{hash:e.id}})},download:function(){var t=this;this.loading=!0,l.a.get(OC.generateUrl("apps/forms/get/event/"+this.$route.params.hash)).then((function(e){t.json2csvParser=["userId","voteOptionId","voteOptionText","voteAnswer"];var a=document.createElement("a");a.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(s.a.parse(t.votes))),a.setAttribute("download",e.data.title+".csv"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),t.loading=!1}),(function(e){console.log(e.response),t.loading=!1}))}}},c=(a(206),Object(i.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("button",{staticClass:"button btn primary",on:{click:t.download}},[a("span",[t._v(t._s("Export to CSV"))])])]),t._v(" "),a("h1",[t._v(t._s("Statistics"))]),t._v(" "),t._l(t.stats,(function(e){return a("div",{key:e},[t._v("\n\t\t"+t._s(e)+"\n\t")])})),t._v(" "),a("div",{attrs:{id:"app-content"}},[a("transition-group",{staticClass:"table",attrs:{name:"list",tag:"div"}},[a("resultItem",{key:"0",attrs:{header:!0}}),t._v(" "),t._l(t.votes,(function(e,o){return a("resultItem",{key:e.id,tag:"li",attrs:{vote:e},on:{viewResults:function(e){return t.viewFormResults(o,t.form.event,"results")}}})}))],2),t._v(" "),t.loading?a("loading-overlay"):t._e(),t._v(" "),a("modal-dialog")],1)],2)}),[],!1,null,null,null));e.default=c.exports}}]);